<div class="well bs-component">
    <form name="newAdd" class="form-horizontal authentication-form" ng-controller="EditAdsController" ng-submit="edit(adInfo)">
        <fieldset>
            <legend>Edit Ad</legend>
            <div class="form-group">
                <label for="inputTitle" class="col-lg-2 control-label">Title:</label>
                <div class="col-lg-10">
                    <input type="text" name="inputTitle" class="form-control" required id="inputTitle" placeholder="Title" ng-model="adInfo.title">
                </div>
            </div>
            <div class="form-group">
                <label for="selectCategory" class="col-lg-2 control-label">Category</label>
                <div class="col-lg-10">
                    <select class="form-control" name="inputTown" required id="selectCategory" ng-controller="CategoriesController" ng-model="adInfo.categoryId">
                        <option value="" disabled selected>Select your option</option>
                        <option ng-repeat="category in categories" value="{{ category.id }}" ng-selected="category.id == adInfo.categoryId">{{ category.name }}</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label for="selectTown" class="col-lg-2 control-label">Town</label>
                <div class="col-lg-10">
                    <select class="form-control" name="inputTown" required id="selectTown" ng-controller="TownsController" ng-model="adInfo.townId">
                        <option value="" disabled>Select your option</option>
                        <option ng-repeat="town in towns" value="{{ town.id }}" ng-selected="town.id == adInfo.townId">{{ town.name }}</option>
                    </select>
                </div>
            </div>
            <div class="form-group photo-input" ng-class="isValidImg" ng-controller="UploadController">
                <label class="col-lg-2 control-label">Image:</label>
                <div class="col-lg-4">
                    <input type="text" name="inputImage" class="form-control" required placeholder="Image" ng-value="imageName" disabled="disabled">
                </div>
                <button class="btn btn-info col-lg-2">Browse<input type="file" id="inputImage" ng-file-select="onFileSelect($files)"/></button>
                <div class="col-lg-4 new-ad-image">
                    <img ng-src="{{adInfo.imageDataUrl}}" src="../app/img/no-available-image.png">
                </div>
                <div class="form-group vert-offset-top-4">
                    <div class="col-lg-10 col-lg-offset-2">
                        <button type="button" class="btn btn-warning" ng-click="changeImg(imageSrc)">Change Image</button>
                        <button type="button" class="btn btn-danger" ng-click="deleteImg()">Delete Image</button>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="inputText" class="col-lg-2 control-label">Text</label>
                <div class="col-lg-6">
                    <textarea class="form-control" rows="4" id="inputText" ng-model="adInfo.text"></textarea>
                    <span class="help-block">Enter description of your ad.</span>
                </div>
            </div>
            <div class="form-group" ng-if="isAdmin">
                <label for="inputUsername" class="col-lg-2 control-label">Username:</label>
                <div class="col-lg-10">
                    <input type="text" name="inputUsername" class="form-control" required id="inputUsername" placeholder="Username" ng-model="adInfo.ownerUsername">
                </div>
            </div>
            <div class="form-group" ng-if="isAdmin">
                <label for="datepicker" class="col-lg-2 control-label">Date:</label>
                <div class="col-lg-10">
                    <input type="text" id="datepicker" class="form-control datepicker" ng-model="adInfo.formattedDate" required/>
                    <script>$('.datepicker').datepicker({});</script>
                </div>
            </div>
            <div class="form-group" ng-if="isAdmin">
                <label for="selectStatus" class="col-lg-2 control-label">Status</label>
                <div class="col-lg-10">
                    <select class="form-control" name="inputStatus" required id="selectStatus" ng-controller="SelectStatusController" ng-model="adInfo.status">
                        <option value="" disabled selected>Select your option</option>
                        <option ng-repeat="status in statuses" value="{{ status.value }}" ng-selected="status.value == adInfo.status">{{ status.name }}</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <div class="col-lg-10 col-lg-offset-2">
                    <a href="#/" ng-href="{{isAdmin ? '#/admin/home' : '#/'}}" class="btn btn-default" ng-click="clearValidatedInputs()">Cancel</a>
                    <button type="submit" class="btn btn-primary">Edit</button>
                </div>
            </div>
        </fieldset>
    </form>
</div>